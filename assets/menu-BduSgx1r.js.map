{"version":3,"file":"menu-BduSgx1r.js","sources":["../../src/js/utils/modal.js","../../src/js/utils/cards.js"],"sourcesContent":["const modal = document.querySelector(\"#modal\");\nconst closeBtn = document.querySelector(\"#close\");\nconst price = document.querySelector(\"#modal-price\");\nconst img = document.querySelector(\"#modal-img\");\n\nconst tabsSize = document.querySelectorAll(\".tab-size\");\nconst tabsAdditives = document.querySelectorAll(\".tab-add\");\n\ncloseBtn.addEventListener(\"click\", () => {\n  modal.classList.add(\"closed\");\n  document.body.style.overflow = \"\";\n});\n\nexport function displayModal(item, index) {\n  let basePrice = Number(item.price);\n  let additivesPrice = 0;\n  modal.classList.remove(\"closed\");\n  document.body.style.overflow = \"hidden\";\n\n  img.src = `images/menu/${item.category}/${index}.png`;\n  img.alt = item.name;\n\n  const sizeKeys = Object.keys(item.sizes);\n  sizeKeys.forEach((key, i) => {\n    const sizeData = item.sizes[key];\n    const span = tabsSize[i].querySelector(\"span\");\n    tabsSize[i].setAttribute(\"data-size\", sizeData[\"add-price\"]);\n    if (span) span.textContent = sizeData.size;\n    tabsSize[i].addEventListener(\"click\", () => {\n      tabsSize.forEach((tab) => {\n        tab.classList.remove(\"active\");\n        basePrice = Number(item.price);\n      });\n      tabsSize[i].classList.add(\"active\");\n      basePrice += Number(tabsSize[i].getAttribute(\"data-size\"));\n      price.textContent = `$${(basePrice + additivesPrice).toFixed(2)}`;\n    });\n  });\n\n  item.additives.forEach((additive, i) => {\n    const span = tabsAdditives[i].querySelector(\"span\");\n    tabsAdditives[i].setAttribute(\"data-add\", additive[\"add-price\"]);\n    if (span) span.textContent = additive.name;\n    tabsAdditives[i].addEventListener(\"click\", () => {\n      tabsAdditives[i].classList.toggle(\"active\");\n      if (tabsAdditives[i].classList.contains(\"active\")) {\n        additivesPrice += Number(tabsAdditives[i].getAttribute(\"data-add\"));\n      } else {\n        additivesPrice -= Number(tabsAdditives[i].getAttribute(\"data-add\"));\n      }\n      price.textContent = `$${(basePrice + additivesPrice).toFixed(2)}`;\n    });\n  });\n\n  price.textContent = `$${(basePrice + additivesPrice).toFixed(2)}`;\n}\n","import { displayModal } from \"./modal.js\";\nconst wrapper = document.querySelector(\".cards\");\nconst tabs = document.querySelectorAll(\".tab-category\");\nconst refresh = document.querySelector(\"#refresh\");\n\nlet currentCategory = \"coffee\";\n\nconst isMobile = () => window.innerWidth <= 768;\n\nasync function fetchCards() {\n  const response = await fetch(\"assets/products.json\");\n  return await response.json();\n}\n\nconst products = await fetchCards();\n\nfunction displayCards(category, visibleCount = isMobile() ? 4 : 8) {\n  wrapper.innerHTML = \"\";\n  const cards = products.filter((product) => product.category === category);\n  const visibleCards = cards.slice(0, visibleCount);\n\n  visibleCards.forEach((card, index) => {\n    const cardElement = document.createElement(\"div\");\n    cardElement.classList.add(\"card\");\n    cardElement.innerHTML = `\n      <div class=\"image-container\">\n        <img\n          src=\"images/menu/${category}/${index}.png\"\n          alt=\"${card.name}\"\n        />\n      </div>\n      <div class=\"description-container\">\n        <div class=\"description\">\n          <h3>${card.name}</h3>\n          <p>${card.description}</p>\n        </div>\n        <h3>$${card.price}</h3>\n      </div>\n    `;\n    wrapper.appendChild(cardElement);\n\n    cardElement.addEventListener(\"click\", () => {\n      displayModal(card, index);\n    });\n  });\n\n  if (isMobile() && cards.length > visibleCards.length) {\n    refresh.classList.remove(\"hidden\");\n  } else {\n    refresh.classList.add(\"hidden\");\n  }\n}\n\ntabs.forEach((tab) => {\n  tab.addEventListener(\"click\", () => {\n    tabs.forEach((t) => t.classList.remove(\"active\"));\n    tab.classList.add(\"active\");\n    currentCategory = tab.getAttribute(\"data-tab\");\n    displayCards(currentCategory);\n  });\n});\n\nrefresh.addEventListener(\"click\", () => {\n  displayCards(currentCategory, 8);\n  refresh.classList.add(\"hidden\");\n});\n\nlet lastIsMobile = isMobile();\nwindow.addEventListener(\"resize\", () => {\n  const nowIsMobile = isMobile();\n  if (nowIsMobile !== lastIsMobile) {\n    displayCards(currentCategory);\n    lastIsMobile = nowIsMobile;\n  }\n});\n\ndisplayCards(currentCategory);\n"],"names":["modal","closeBtn","price","img","tabsSize","tabsAdditives","displayModal","item","index","basePrice","additivesPrice","key","i","sizeData","span","tab","additive","wrapper","tabs","refresh","currentCategory","isMobile","fetchCards","products","displayCards","category","visibleCount","cards","product","visibleCards","card","cardElement","t","lastIsMobile","nowIsMobile"],"mappings":"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"}