{"version":3,"file":"orders-D2tqiNRA.js","sources":["../../src/scripts/modules/orders.ts"],"sourcesContent":["import { onAuthStateChanged } from \"firebase/auth\";\nimport { loadUserData } from \"../api/user\";\nimport { auth } from \"@/firebase\";\n\nconst wrapper: HTMLDivElement | null = document.querySelector(\"#orders-list\");\n\nif (!(wrapper instanceof HTMLDivElement)) {\n  throw new Error(\"No orders elements found\");\n}\n\nexport const getOrders = async () => {\n  onAuthStateChanged(auth, async (user) => {\n    if (user) {\n      const userData = await loadUserData();\n\n      if (!userData) {\n        console.error(\"No user data found in Firestore\");\n        return;\n      }\n      const orders = userData.orders;\n\n      if (!orders) {\n        console.error(\"No orders found in user data\");\n        return;\n      }\n\n      return orders.map((order: Order, index) => {\n        const orderDiv = document.createElement(\"div\");\n        orderDiv.classList.add(\"order\");\n        orderDiv.innerHTML = `\n          <div>#${index + 1}</div>\n          <div>Number of items: ${order.items.length}</div>\n          <div>Price: ${order.totalPrice}</div>\n          <div>Date: ${order.createdAt?.slice(0, 10)}</div>\n          `;\n\n        wrapper.append(orderDiv);\n      });\n    }\n  });\n};\n\ngetOrders();\n"],"names":["wrapper","getOrders","onAuthStateChanged","auth","user","userData","loadUserData","orders","order","index","orderDiv"],"mappings":"yFAIA,MAAMA,EAAiC,SAAS,cAAc,cAAc,EAE5E,GAAI,EAAEA,aAAmB,gBACvB,MAAM,IAAI,MAAM,0BAA0B,EAGrC,MAAMC,EAAY,SAAY,CACnCC,EAAmBC,EAAM,MAAOC,GAAS,CACvC,GAAIA,EAAM,CACR,MAAMC,EAAW,MAAMC,EAAA,EAEvB,GAAI,CAACD,EAAU,CACb,QAAQ,MAAM,iCAAiC,EAC/C,MACF,CACA,MAAME,EAASF,EAAS,OAExB,GAAI,CAACE,EAAQ,CACX,QAAQ,MAAM,8BAA8B,EAC5C,MACF,CAEA,OAAOA,EAAO,IAAI,CAACC,EAAcC,IAAU,CACzC,MAAMC,EAAW,SAAS,cAAc,KAAK,EAC7CA,EAAS,UAAU,IAAI,OAAO,EAC9BA,EAAS,UAAY;AAAA,kBACXD,EAAQ,CAAC;AAAA,kCACOD,EAAM,MAAM,MAAM;AAAA,wBAC5BA,EAAM,UAAU;AAAA,uBACjBA,EAAM,WAAW,MAAM,EAAG,EAAE,CAAC;AAAA,YAG5CR,EAAQ,OAAOU,CAAQ,CACzB,CAAC,CACH,CACF,CAAC,CACH,EAEAT,EAAA"}