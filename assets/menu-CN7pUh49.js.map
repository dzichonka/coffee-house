{"version":3,"file":"menu-CN7pUh49.js","sources":["../../src/js/utils/modal.js","../../src/js/utils/cards.js"],"sourcesContent":["const modal = document.querySelector(\"#modal\");\nconst content = document.querySelector(\".window\");\nconst closeBtn = document.querySelector(\"#close\");\nconst price = document.querySelector(\"#modal-price\");\nconst img = document.querySelector(\"#modal-img\");\nconst title = document.querySelector(\"#modal-title\");\nconst description = document.querySelector(\"#modal-description\");\n\nconst tabsSize = document.querySelectorAll(\".tab-size\");\nconst tabsAdditives = document.querySelectorAll(\".tab-add\");\n\nlet sizeListenersAdded = false;\nlet addListenersAdded = false;\nfunction closeModal() {\n  modal.classList.add(\"closed\");\n  document.body.style.overflow = \"\";\n  tabsSize.forEach((tab) => tab.classList.remove(\"active\"));\n  tabsSize[0].classList.add(\"active\");\n  tabsAdditives.forEach((tab) => tab.classList.remove(\"active\"));\n}\n\ncloseBtn.addEventListener(\"click\", () => {\n  closeModal();\n});\n\nwindow.addEventListener(\"click\", (e) => {\n  if (e.target === modal && e.target !== content) {\n    closeModal();\n  }\n});\n\nexport function displayModal(item, index) {\n  let basePrice = Number(item.price);\n  let additivesPrice = 0;\n\n  const updatePrice = () => {\n    const total = basePrice + additivesPrice;\n    price.textContent = `$${total.toFixed(2)}`;\n  };\n\n  modal.classList.remove(\"closed\");\n  document.body.style.overflow = \"hidden\";\n\n  img.src = `images/menu/${item.category}/${index}.png`;\n  img.alt = item.name;\n\n  title.textContent = item.name;\n  description.textContent = item.description;\n\n  const sizeKeys = Object.keys(item.sizes);\n\n  if (!sizeListenersAdded) {\n    sizeKeys.forEach((key, i) => {\n      const sizeData = item.sizes[key];\n      const span = tabsSize[i].querySelector(\".text\");\n      tabsSize[i].setAttribute(\"data-size\", sizeData[\"add-price\"]);\n      if (span) span.textContent = sizeData.size;\n\n      tabsSize[i].addEventListener(\"click\", () => {\n        tabsSize.forEach((tab) => {\n          tab.classList.remove(\"active\");\n          basePrice = Number(item.price);\n        });\n        tabsSize[i].classList.add(\"active\");\n        basePrice += Number(tabsSize[i].getAttribute(\"data-size\"));\n        updatePrice();\n      });\n    });\n    sizeListenersAdded = true;\n  }\n\n  if (!addListenersAdded) {\n    item.additives.forEach((additive, i) => {\n      const span = tabsAdditives[i].querySelector(\".text\");\n      tabsAdditives[i].setAttribute(\"data-add\", additive[\"add-price\"]);\n      if (span) span.textContent = additive.name;\n\n      tabsAdditives[i].addEventListener(\"click\", () => {\n        tabsAdditives[i].classList.toggle(\"active\");\n        if (tabsAdditives[i].classList.contains(\"active\")) {\n          additivesPrice += Number(tabsAdditives[i].getAttribute(\"data-add\"));\n        } else {\n          additivesPrice -= Number(tabsAdditives[i].getAttribute(\"data-add\"));\n        }\n        updatePrice();\n      });\n    });\n    addListenersAdded = true;\n  }\n\n  updatePrice();\n}\n","import { displayModal } from \"./modal.js\";\nconst wrapper = document.querySelector(\".cards\");\nconst tabs = document.querySelectorAll(\".tab-category\");\nconst refresh = document.querySelector(\"#refresh\");\n\nlet currentCategory = \"coffee\";\n\nconst isMobile = () => window.innerWidth <= 768;\n\nasync function fetchCards() {\n  const response = await fetch(\"assets/products.json\");\n  return await response.json();\n}\n\nconst products = await fetchCards();\n\nfunction displayCards(category, visibleCount = isMobile() ? 4 : 8) {\n  wrapper.innerHTML = \"\";\n  const cards = products.filter((product) => product.category === category);\n  const visibleCards = cards.slice(0, visibleCount);\n\n  visibleCards.forEach((card, index) => {\n    const cardElement = document.createElement(\"div\");\n    cardElement.classList.add(\"card\");\n    cardElement.innerHTML = `\n      <div class=\"image-container\">\n        <img\n          src=\"images/menu/${category}/${index}.png\"\n          alt=\"${card.name}\"\n        />\n      </div>\n      <div class=\"description-container\">\n        <div class=\"description\">\n          <h3>${card.name}</h3>\n          <p>${card.description}</p>\n        </div>\n        <h3>$${card.price}</h3>\n      </div>\n    `;\n    wrapper.appendChild(cardElement);\n\n    cardElement.addEventListener(\"click\", () => {\n      displayModal(card, index);\n    });\n  });\n\n  if (isMobile() && cards.length > visibleCards.length) {\n    refresh.classList.remove(\"hidden\");\n  } else {\n    refresh.classList.add(\"hidden\");\n  }\n}\n\ntabs.forEach((tab) => {\n  tab.addEventListener(\"click\", () => {\n    tabs.forEach((t) => t.classList.remove(\"active\"));\n    tab.classList.add(\"active\");\n    currentCategory = tab.getAttribute(\"data-tab\");\n    displayCards(currentCategory);\n  });\n});\n\nrefresh.addEventListener(\"click\", () => {\n  displayCards(currentCategory, 8);\n  refresh.classList.add(\"hidden\");\n});\n\nlet lastIsMobile = isMobile();\nwindow.addEventListener(\"resize\", () => {\n  const nowIsMobile = isMobile();\n  if (nowIsMobile !== lastIsMobile) {\n    displayCards(currentCategory);\n    lastIsMobile = nowIsMobile;\n  }\n});\n\ndisplayCards(currentCategory);\n"],"names":["modal","content","closeBtn","price","img","title","description","tabsSize","tabsAdditives","sizeListenersAdded","addListenersAdded","closeModal","tab","displayModal","item","index","basePrice","additivesPrice","updatePrice","total","sizeKeys","key","i","sizeData","span","additive","wrapper","tabs","refresh","currentCategory","isMobile","fetchCards","products","displayCards","category","visibleCount","cards","product","visibleCards","card","cardElement","t","lastIsMobile","nowIsMobile"],"mappings":"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"}