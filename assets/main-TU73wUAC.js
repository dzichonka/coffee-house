import"./burger-Hh14-O_p.js";async function X(v,S){const r=document.querySelector(S);r&&r.classList.add("active");try{const i=await fetch(v);return i.ok?{data:await i.json(),error:null}:{data:null,error:`HTTP error: ${i.status}`}}catch(i){return console.error("Fetch error:",i),{data:null,error:"Failed to fetch data"}}finally{r&&r.classList.remove("active")}}const L=document.querySelector(".slider-wrapper"),m=document.querySelector(".wrapper"),h=document.querySelector(".slider"),l=document.querySelector(".dots"),C=document.querySelector(".prev"),H=document.querySelector(".next"),y=document.querySelector("#error"),M=document.querySelector("#refresh");async function $(){if(!L||!l)return;L.innerHTML="",l.innerHTML="";const{data:v,error:S}=await X("https://6kt29kkeub.execute-api.eu-central-1.amazonaws.com/products/favorites","#loader");if(S){h&&(h.style.display="none"),l&&(l.style.display="none"),y&&(y.style.display="flex");return}const r=v?.data??[];r.forEach((e,n)=>{const o=document.createElement("div");o.classList.add("slide"),n===0&&o.classList.add("active"),o.innerHTML=`
      <img src="images/favourites/${e.id}.png" alt="${e.name}">
      <h3>${e.name}</h3>
      <p>${e.description}</p>
      <h3>$${e.price}</h3>
    `,L.appendChild(o);const d=document.createElement("div");d.classList.add("dot"),d.appendChild(document.createElement("span")),l.appendChild(d)});const i=Array.from(document.querySelectorAll(".slide")),p=Array.from(l.querySelectorAll(".dot"));let t=0,q=5e3,g=null,c=null,s=null,u=0;function A(e){const n=e.querySelector("span");if(!e)return;c&&cancelAnimationFrame(c);function o(d){if(!n)return;s||(s=d);const x=d-s+u,k=Math.min(x/q*100,100);n&&(n.style.width=k+"%"),k<100?c=requestAnimationFrame(o):(s=null,u=0,s=null)}c=requestAnimationFrame(o)}function T(){c&&cancelAnimationFrame(c),s&&(u+=performance.now()-s),s=null}function w(){c&&cancelAnimationFrame(c),p.forEach(e=>{const n=e.querySelector("span");n&&(n.style.width="0%")}),u=0,s=null}function f(e){i.forEach((n,o)=>n.classList.toggle("active",o===e)),w(),A(p[e])}function a(){E(),g=setTimeout(()=>{t=(t+1)%r.length,f(t),a()},q-u)}function E(){g&&clearTimeout(g)}C?.addEventListener("click",()=>{t=(t-1+r.length)%r.length,f(t),a()}),H?.addEventListener("click",()=>{t=(t+1)%r.length,f(t),a()}),m?.addEventListener("mouseenter",()=>{E(),T()}),m?.addEventListener("mouseleave",()=>{a(),A(p[t])});let F=0;m?.addEventListener("touchstart",e=>{if(E(),T(),!(e instanceof TouchEvent))return;F=e.touches[0].clientX}),m?.addEventListener("touchend",e=>{if(!(e instanceof TouchEvent))return;const o=e.changedTouches[0].clientX-F;o>50?t=(t-1+r.length)%r.length:o<-50&&(t=(t+1)%r.length),f(t),w(),a()}),f(t),a()}$();M?.addEventListener("click",()=>{$(),h&&(h.style.display="flex"),l&&(l.style.display="flex"),y&&(y.style.display="none")});
//# sourceMappingURL=main-TU73wUAC.js.map
