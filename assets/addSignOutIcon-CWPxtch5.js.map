{"version":3,"file":"addSignOutIcon-CWPxtch5.js","sources":["../../src/scripts/utils/addSignOutIcon.ts"],"sourcesContent":["import { onAuthStateChanged } from \"firebase/auth\";\nimport { auth } from \"@/firebase\";\nimport { logoutUser } from \"../api/auth\";\nimport { useUserState } from \"../state/userState\";\n\nconst { clearToken } = useUserState();\n\nexport function addSignOutIcon() {\n  const wrapper = document.querySelector<HTMLDivElement>(\"#nav-right\");\n  if (!wrapper) return;\n\n  onAuthStateChanged(auth, (user) => {\n    if (user) {\n      const singOutBtn = document.createElement(\"button\");\n      singOutBtn.classList.add(\"btn-icon\");\n      singOutBtn.type = \"button\";\n      singOutBtn.id = \"sign-out\";\n      singOutBtn.innerHTML = `\n<i class=\"fa-solid fa-right-from-bracket\"></i>\n      `;\n      singOutBtn.addEventListener(\"click\", () => {\n        logoutUser();\n        clearToken();\n        window.location.href = \"index\";\n      });\n      wrapper.append(singOutBtn);\n    } else {\n      const singOutBtn = document.querySelector<HTMLButtonElement>(\"#sign-out\");\n      singOutBtn?.remove();\n    }\n  });\n}\n"],"names":["clearToken","useUserState","addSignOutIcon","wrapper","onAuthStateChanged","auth","user","singOutBtn","logoutUser"],"mappings":"gIAKA,KAAM,CAAE,WAAAA,CAAA,EAAeC,EAAA,EAEhB,SAASC,GAAiB,CAC/B,MAAMC,EAAU,SAAS,cAA8B,YAAY,EAC9DA,GAELC,EAAmBC,EAAOC,GAAS,CACjC,GAAIA,EAAM,CACR,MAAMC,EAAa,SAAS,cAAc,QAAQ,EAClDA,EAAW,UAAU,IAAI,UAAU,EACnCA,EAAW,KAAO,SAClBA,EAAW,GAAK,WAChBA,EAAW,UAAY;AAAA;AAAA,QAGvBA,EAAW,iBAAiB,QAAS,IAAM,CACzCC,EAAA,EACAR,EAAA,EACA,OAAO,SAAS,KAAO,OACzB,CAAC,EACDG,EAAQ,OAAOI,CAAU,CAC3B,MACqB,SAAS,cAAiC,WAAW,GAC5D,OAAA,CAEhB,CAAC,CACH"}