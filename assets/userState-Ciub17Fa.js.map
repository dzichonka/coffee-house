{"version":3,"file":"userState-Ciub17Fa.js","sources":["../../src/scripts/state/userState.ts"],"sourcesContent":["import { logoutUser } from \"@/scripts/api/auth\";\n\ntype UserState = {\n  token: string | null;\n};\n\nconst state: UserState = {\n  token: null,\n};\n\nexport function useUserState() {\n  function setToken(value: string | null) {\n    state.token = value;\n    if (value) sessionStorage.setItem(\"token\", value);\n    else sessionStorage.removeItem(\"token\");\n  }\n\n  function getToken() {\n    if (!(state.token || sessionStorage.getItem(\"token\"))) logoutUser();\n    return state.token || sessionStorage.getItem(\"token\");\n  }\n\n  function isLoggedIn() {\n    return !!getToken();\n  }\n\n  function clearToken() {\n    state.token = null;\n    sessionStorage.removeItem(\"token\");\n  }\n\n  return {\n    getToken,\n    setToken,\n    isLoggedIn,\n    clearToken,\n  };\n}\n"],"names":["state","useUserState","setToken","value","getToken","logoutUser","isLoggedIn","clearToken"],"mappings":"uCAMA,MAAMA,EAAmB,CACvB,MAAO,IACT,EAEO,SAASC,GAAe,CAC7B,SAASC,EAASC,EAAsB,CACtCH,EAAM,MAAQG,EACVA,EAAO,eAAe,QAAQ,QAASA,CAAK,EAC3C,eAAe,WAAW,OAAO,CACxC,CAEA,SAASC,GAAW,CAClB,OAAMJ,EAAM,OAAS,eAAe,QAAQ,OAAO,GAAIK,EAAA,EAChDL,EAAM,OAAS,eAAe,QAAQ,OAAO,CACtD,CAEA,SAASM,GAAa,CACpB,MAAO,CAAC,CAACF,EAAA,CACX,CAEA,SAASG,GAAa,CACpBP,EAAM,MAAQ,KACd,eAAe,WAAW,OAAO,CACnC,CAEA,MAAO,CACL,SAAAI,EACA,SAAAF,EACA,WAAAI,EACA,WAAAC,CAAA,CAEJ"}