import{u as o}from"./userState-BenL3nAi.js";const n="cartState";function c(){const t=localStorage.getItem(n);return t?JSON.parse(t):{items:[],totalPriceOld:0,totalPriceNew:0}}function a(t){localStorage.setItem(n,JSON.stringify(t))}let e=c();function s(){e.totalPriceOld=e.items.reduce((t,i)=>t+i.priceOld*i.quantity,0),e.totalPriceNew=e.items.reduce((t,i)=>t+i.priceNew*i.quantity,0)}function u(t){const i=e.items.find(r=>r.productId===t.productId&&r.size===t.size&&JSON.stringify(r.additives)===JSON.stringify(t.additives));i?i.quantity+=t.quantity:e.items.push(t),s(),a(e)}function l(){e={items:[],totalPriceOld:0,totalPriceNew:0},a(e)}function d(){return e.items}function g(){return e.totalPriceOld}function f(){return e.totalPriceNew}function p(){return e.items.reduce((t,i)=>t+i.quantity,0)}function S(){return{addItem:u,clear:l,getItems:d,getTotalPriceOld:g,getTotalPriceNew:f,getTotalCount:p}}const{isLoggedIn:m}=o();if(m()){const{getTotalCount:t}=S(),i=document.querySelector("#nav-right"),r=document.createElement("a");r.classList.add("link"),r.href="cart",r.innerHTML=`
    <img src="icons/shopping-bag.svg" alt="Shopping cart icon" />
    <span>${t()>0?t():""}</span>
  `,i?.prepend(r)}
//# sourceMappingURL=addCartIcon-DIpckBZX.js.map
