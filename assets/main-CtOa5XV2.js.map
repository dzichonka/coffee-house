{"version":3,"file":"main-CtOa5XV2.js","sources":["../../src/js/utils/slider.js"],"sourcesContent":["const slidesData = [\n  {\n    img: \"images/favourites/coffee-slider-1.png\",\n    title: \"Sâ€™mores Frappuccino\",\n    text: \"This new drink takes an espresso and mixes it with brown sugar and cinnamon before being topped with oat milk.\",\n    price: \"$5.50\",\n  },\n  {\n    img: \"images/favourites/coffee-slider-2.png\",\n    title: \"Caramel Macchiato\",\n    text: \"Fragrant and unique classic espresso with rich caramel-peanut syrup, with cream under whipped thick foam.\",\n    price: \"$5.00\",\n  },\n  {\n    img: \"images/favourites/coffee-slider-3.png\",\n    title: \"Caramel Ice coffee\",\n    text: \"A popular summer drink that tones and invigorates. Prepared from coffee, milk and ice.\",\n    price: \"$4.50\",\n  },\n];\n\nconst wrapper = document.querySelector(\".slider-wrapper\");\nconst dotsContainer = document.querySelector(\".dots\");\n\nslidesData.forEach((slide, index) => {\n  const div = document.createElement(\"div\");\n  div.classList.add(\"slide\");\n  div.innerHTML = `\n    <img src=\"${slide.img}\" alt=\"${slide.title}\">\n    <h3>${slide.title}</h3>\n    <p>${slide.text}</p>\n    <h3>${slide.price}</h3>\n  `;\n  if (index === 0) div.classList.add(\"active\");\n  wrapper.appendChild(div);\n  const dot = document.createElement(\"div\");\n  dot.classList.add(\"dot\");\n  dot.appendChild(document.createElement(\"span\"));\n  if (index === 0) dot.classList.add(\"active\");\n  dotsContainer.appendChild(dot);\n});\n\nconst slides = document.querySelectorAll(\".slide\");\nconst dots = document.querySelectorAll(\".dot\");\nconst prev = document.querySelector(\".prev\");\nconst next = document.querySelector(\".next\");\n\nlet currentIndex = 0;\nlet autoScrollDelay = 5000;\nlet autoScrollTimer = null;\n\nlet progressRAF = null;\nlet progressStartTime = null;\nlet progressElapsed = 0;\n\nfunction updateProgress(dot) {\n  cancelAnimationFrame(progressRAF);\n  const bar = dot.querySelector(\"span\");\n\n  function step(timestamp) {\n    if (!progressStartTime) progressStartTime = timestamp;\n    const delta = timestamp - progressStartTime + progressElapsed;\n    const percent = Math.min((delta / autoScrollDelay) * 100, 100);\n    bar.style.width = percent + \"%\";\n\n    if (percent < 100) {\n      progressRAF = requestAnimationFrame(step);\n    }\n  }\n\n  progressRAF = requestAnimationFrame(step);\n}\n\nfunction stopProgress() {\n  cancelAnimationFrame(progressRAF);\n  if (progressStartTime) {\n    progressElapsed += performance.now() - progressStartTime;\n  }\n  progressStartTime = null;\n}\n\nfunction resetProgress() {\n  cancelAnimationFrame(progressRAF);\n  dots.forEach((d) => (d.querySelector(\"span\").style.width = \"0%\"));\n  progressElapsed = 0;\n  progressStartTime = null;\n}\n\nfunction showSlide(index) {\n  slides.forEach((s, i) => s.classList.toggle(\"active\", i === index));\n  dots.forEach((d, i) => d.classList.toggle(\"active\", i === index));\n\n  resetProgress();\n  updateProgress(dots[index]);\n}\n\nfunction startAutoScroll() {\n  stopAutoScroll();\n  autoScrollTimer = setTimeout(() => {\n    currentIndex = (currentIndex + 1) % slides.length;\n    showSlide(currentIndex);\n    startAutoScroll();\n  }, autoScrollDelay - progressElapsed);\n}\n\nfunction stopAutoScroll() {\n  clearTimeout(autoScrollTimer);\n}\n\nprev.addEventListener(\"click\", () => {\n  currentIndex = (currentIndex - 1 + slides.length) % slides.length;\n  showSlide(currentIndex);\n  startAutoScroll();\n});\n\nnext.addEventListener(\"click\", () => {\n  currentIndex = (currentIndex + 1) % slides.length;\n  showSlide(currentIndex);\n  startAutoScroll();\n});\n\nwrapper.addEventListener(\"mouseenter\", () => {\n  stopAutoScroll();\n  stopProgress();\n});\nwrapper.addEventListener(\"mouseleave\", () => {\n  startAutoScroll();\n  updateProgress(dots[currentIndex]);\n});\n\nlet startX = 0;\nwrapper.addEventListener(\"touchstart\", (e) => {\n  stopAutoScroll();\n  stopProgress();\n  startX = e.touches[0].clientX;\n});\nwrapper.addEventListener(\"touchend\", (e) => {\n  const endX = e.changedTouches[0].clientX;\n  const diff = endX - startX;\n\n  if (diff > 50)\n    currentIndex = (currentIndex - 1 + slides.length) % slides.length;\n  else if (diff < -50) currentIndex = (currentIndex + 1) % slides.length;\n\n  showSlide(currentIndex);\n  resetProgress();\n  startAutoScroll();\n});\n\nshowSlide(currentIndex);\nstartAutoScroll();\n"],"names":["slidesData","wrapper","dotsContainer","slide","index","div","dot","slides","dots","prev","next","currentIndex","autoScrollDelay","autoScrollTimer","progressRAF","progressStartTime","progressElapsed","updateProgress","bar","step","timestamp","delta","percent","stopProgress","resetProgress","d","showSlide","s","i","startAutoScroll","stopAutoScroll","startX","diff"],"mappings":"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"}